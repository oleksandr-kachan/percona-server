# ----------------------------------------------------------------------
# Setup
# Creating custom global manifest file for MySQL server
# Creating custom global configuration file for keyring component: component_keyring_file
# Re-starting mysql server with manifest file
# ----------------------------------------------------------------------
# create bootstrap file
# restart: PLUGIN_DIR_OPT --loose-skip-log-bin --skip-log-slave-updates --datadir=MYSQLD_DATADIR1 --log-error=MYSQL_TMP_DIR/error_log.err --innodb_redo_log_encrypt=KEYRING_KEY
# restart: PLUGIN_DIR_OPT --loose-skip-log-bin --skip-log-slave-updates --datadir=MYSQLD_DATADIR1 --log-error=MYSQL_TMP_DIR/error_log.err --innodb_redo_log_encrypt=KEYRING_KEY
ALTER INSTANCE ROTATE REDO SYSTEM KEY;
# restart: PLUGIN_DIR_OPT --loose-skip-log-bin --skip-log-slave-updates --datadir=MYSQLD_DATADIR1 --log-error=MYSQL_TMP_DIR/error_log.err --innodb_redo_log_encrypt=KEYRING_KEY
# Restart the server with default options.
# restart
# ----------------------------------------------------------------------
# Teardown
# Removing local keyring file for keyring component: component_keyring_file
# Removing global configuration file for keyring component: component_keyring_file
# Removing global manifest file for MySQL server
# Restarting server without the manifest file
# ----------------------------------------------------------------------
